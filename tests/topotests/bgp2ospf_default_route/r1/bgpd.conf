service password-encryption
frr defaults traditional

hostname r1
password zebra
log stdout notifications

log commands

log file bgpd.log debugging

router bgp 5227
   bgp router-id 1.1.1.1
   no bgp network import-check
   no bgp ebgp-requires-policy
   neighbor 10.0.1.2 remote-as 5226
   neighbor 10.0.1.2 update-source 10.0.1.1
   neighbor 10.0.1.2 password 1.2.0.0
   neighbor 2001:db8:beef:1::2 remote-as 5226
   neighbor 2001:db8:beef:1::2 update-source 2001:db8:beef:1::1
   neighbor 2001:db8:beef:1::2 password 1.2.0.6

   address-family ipv4 unicast
     no neighbor 2001:db8:beef:1::2 activate
     network 1.1.1.1/32
     network 0.0.0.0/0
     network 5.6.7.0/26
     redistribute static route-map rm-nh
     neighbor 10.0.1.2 activate
     neighbor 10.0.1.2 default-originate route-map rm-nh
   exit-address-family

   address-family ipv6 unicast
     neighbor 2001:db8:beef:1::2 activate
     neighbor 2001:db8:beee:1::2 next-hop-self
     network ::/0
   exit-address-family
 
access-list al-any permit any
!
route-map rm-nh permit 10
 match ip address al-any
 set ip next-hop 1.1.1.1
!
!
end
